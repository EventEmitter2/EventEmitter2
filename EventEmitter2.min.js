!function(b,c){b.EventEmitter2=a;function a(d){d=d||{};if(d.delimiter==="*"){throw new Error('The event can not be delimited by the "*" (wild-card) character.')}this._caseSensitive=d.caseSensitive;this._delimiter=d.delimiter||".";this._maxListeners=d.maxListeners===0?0:d.maxListeners||10;this._events={}}a.prototype.addListener=function(e,f){var g=this._delimiter;if(e[e.length-1]===g||e[0]===g){this.nameError()}this._events[e]||(this._events[e]={_listeners:[],ttl:null});if(this._events[e]._listeners.length===this.maxListeners){this.emit("maxListeners",e);return}this._events[e]._listeners.push(f);this.emit("newListener",e,f)};a.prototype.on=a.prototype.addListener;a.prototype.once=function(d,e){this.many(d,1,e)};a.prototype.many=function(f,d,g){var e=this;this.addListener(f,function(){if(d--==0){e.removeListener(f,g)}else{g.apply(null,arguments)}})};a.prototype.emit=function(){var f=arguments[0];var q=this;var p;var n=this._delimiter;var o=[];if(f[f.length-1]===n||f[0]===n){this.nameError()}f=f.split(n);for(var m in q._events){var g=q._events[m]._listeners,k=true;p=m.split(n);for(var j=0,h=f.length;j<h;j++){if(p[j]&&!this._caseSensitive){f[j]=f[j].toLowerCase();p[j]=p[j].toLowerCase()}if(!p[j]||f[j]!==p[j]&&f[j]!=="*"&&p[j]!=="*"){k=false;break}}if(m==="*"||k){o=o.concat(g)}}for(var j=0,h=o.length;j<h;j++){o[j].apply(this,arguments)}};a.prototype.removeListener=function(j,k){var f=j.split(this._delimiter),m=this._events;j=f.pop();for(var g=0,d=f.length;g<d;g++){m=m[f[g]];if(!m){return}}if(k&&m[j]&&m[j]._listeners){var h=m[j]._listeners;for(var g=0,e=h.length;g<e;g++){if(k===h[g]){return h.splice(g,1)}}}else{m[j]={}}};a.prototype.removeAllListeners=function(){this._events={}};a.prototype.setMaxListeners=function(d){this.maxListeners=d};a.prototype.listeners=function(d){if(this._events[d]){return this._events[d]._listeners}else{return false}};a.prototype.nameError=function(){throw new Error("Name can't end or begin with the \""+this._delimiter+"\" character, it's the delimiter.")}}(typeof exports==="undefined"?window:exports);